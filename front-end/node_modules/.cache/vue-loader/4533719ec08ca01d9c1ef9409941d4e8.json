{"remainingRequest":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\src\\views\\Admin.vue?vue&type=style&index=0&id=54c38a05&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\src\\views\\Admin.vue","mtime":1649390893033},{"path":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\node_modules\\css-loader\\dist\\cjs.js","mtime":1648525681152},{"path":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1648525683076},{"path":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\node_modules\\postcss-loader\\src\\index.js","mtime":1648525682010},{"path":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648525680671},{"path":"C:\\Users\\rando\\cs260\\creative4\\happymoped\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":1648525682512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi8qIFN1Z2dlc3Rpb25zICovDQouc3VnZ2VzdGlvbnMgew0KICB3aWR0aDogMjAwcHg7DQogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQp9DQoNCi5zdWdnZXN0aW9uIHsNCiAgbWluLWhlaWdodDogMjBweDsNCn0NCg0KLnN1Z2dlc3Rpb246aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNUJERUZGOw0KICBjb2xvcjogI2ZmZjsNCn0NCg0KLmltYWdlIGgyIHsNCiAgZm9udC1zdHlsZTogaXRhbGljOw0KICBmb250LXNpemU6IDFlbTsNCn0NCg0KLmhlYWRpbmcgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICBtYXJnaW4tdG9wOiAyMHB4Ow0KfQ0KDQouaGVhZGluZyBoMiB7DQogIG1hcmdpbi10b3A6IDhweDsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQp9DQoNCi5hZGQsDQouZWRpdCB7DQogIGRpc3BsYXk6IGZsZXg7DQp9DQoNCi5jaXJjbGUgew0KICBib3JkZXItcmFkaXVzOiA1MCU7DQogIHdpZHRoOiAxOHB4Ow0KICBoZWlnaHQ6IDE4cHg7DQogIHBhZGRpbmc6IDhweDsNCiAgYmFja2dyb3VuZDogIzMzMzsNCiAgY29sb3I6ICNmZmY7DQogIHRleHQtYWxpZ246IGNlbnRlcg0KfQ0KDQovKiBGb3JtICovDQppbnB1dCwNCnRleHRhcmVhLA0Kc2VsZWN0LA0KYnV0dG9uIHsNCiAgZm9udC1mYW1pbHk6ICdNb250c2VycmF0Jywgc2Fucy1zZXJpZjsNCiAgZm9udC1zaXplOiAxZW07DQp9DQoNCi5mb3JtIHsNCiAgbWFyZ2luLXJpZ2h0OiA1MHB4Ow0KfQ0KDQovKiBVcGxvYWRlZCBpbWFnZXMgKi8NCi51cGxvYWQgaDIgew0KICBtYXJnaW46IDBweDsNCn0NCg0KLnVwbG9hZCBpbWcgew0KICBtYXgtd2lkdGg6IDMwMHB4Ow0KfQ0K"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmYA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"admin container\">\r\n  <h1>The Admin Page!</h1>\r\n    <div class=\"heading\">\r\n      <div class=\"circle\">1</div>\r\n      <h2>Add an Feature Blade</h2>\r\n    </div>\r\n    <div class=\"add\">\r\n      <div class=\"form\">\r\n        <input v-model=\"title\" placeholder=\"Heading\">\r\n        \r\n        <p></p>\r\n        <textarea id=\"desc\" v-model=\"desc\"></textarea>\r\n        <p></p>\r\n        <input type=\"file\" name=\"photo\" @change=\"fileChanged\">\r\n        \r\n        <button @click=\"upload\">Upload</button>\r\n      </div>\r\n      <div class=\"upload\" v-if=\"addItem\">\r\n        <h2>{{addItem.title}}</h2>\r\n        <p><i>{{addItem.desc}}</i></p>\r\n        <img :src=\"addItem.path\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"heading\">\r\n      <div class=\"circle\">2</div>\r\n      <h2>Edit/Delete a Feature Blade</h2>\r\n    </div>\r\n    <div class=\"edit\">\r\n      <div class=\"form\">\r\n        <input v-model=\"findTitle\" placeholder=\"Search\">\r\n        <div class=\"suggestions\" v-if=\"suggestions.length > 0\">\r\n          <div class=\"suggestion\" v-for=\"s in suggestions\" :key=\"s.id\" @click=\"selectItem(s)\">{{s.title}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"upload\" v-if=\"findItem\">\r\n        <input v-model=\"findItem.title\">\r\n        <p></p>\r\n        <textarea v-model=\"findItem.desc\"></textarea>\r\n        <img :src=\"findItem.path\" />\r\n      </div>\r\n      <div class=\"actions\" v-if=\"findItem\">\r\n        <button @click=\"deleteItem(findItem)\">Delete</button>\r\n        <button @click=\"editItem(findItem)\">Edit</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"heading\">\r\n      <h2>Edit Hours of Operation</h2>\r\n    </div>\r\n    <div class=\"hours-of-op-container\">\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Monday</p>\r\n        <input type=\"text\" v-model=\"hours[0]\">\r\n      </div>\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Tuesday</p>\r\n        <input type=\"text\" v-model=\"hours[1]\">\r\n      </div>\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Wednesday</p>\r\n        <input type=\"text\" v-model=\"hours[2]\">\r\n      </div>\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Thursday</p>\r\n        <input type=\"text\" v-model=\"hours[3]\">\r\n      </div>\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Friday</p>\r\n        <input type=\"text\" v-model=\"hours[4]\">\r\n      </div>\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Saturday</p>\r\n        <input type=\"text\" v-model=\"hours[5]\">\r\n      </div>\r\n      <div class=\"d-flex my-2\">\r\n        <p class=\"px-2\">Sunday</p>\r\n        <input type=\"text\" v-model=\"hours[6]\">\r\n      </div>\r\n      <button @click=\"updateHours()\">Change Hours</button>\r\n    </div>\r\n\r\n\r\n    <div class=\"heading\">\r\n      <h2>Add a Moped</h2>\r\n    </div>\r\n    <div class=\"add\">\r\n      <div class=\"form\">\r\n        <input v-model=\"moped.title\" placeholder=\"Moped Name\">\r\n        <p></p>\r\n        <input v-model=\"moped.make\" placeholder=\"Moped Make\">\r\n        <p></p>\r\n        <input v-model=\"moped.engineSize\" placeholder=\"Moped Engine Size\">\r\n        <p></p>\r\n        <input v-model=\"moped.numPeople\" type=\"number\" placeholder=\"Number of riders\">\r\n        \r\n        <p></p>\r\n        <textarea id=\"desc\" v-model=\"moped.otherInfo\"></textarea>\r\n        <p></p>\r\n        <input v-model=\"moped.price\" type=\"number\" placeholder=\"price per hour\">\r\n        \r\n        <p></p>\r\n        <input type=\"file\" name=\"photo\" @change=\"filesChanged\" multiple>\r\n        \r\n        <button @click=\"uploadAll\">Upload</button>\r\n      </div>\r\n      <div class=\"upload\" v-if=\"addItem\">\r\n        <h2>{{addItem.title}}</h2>\r\n        <p><i>{{addItem.desc}}</i></p>\r\n        <img :src=\"addItem.path\" />\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"heading\">\r\n      <h2>Edit/Delete a Moped</h2>\r\n    </div>\r\n    <div class=\"edit\">\r\n      <div class=\"form\">\r\n        <input v-model=\"findTitle\" placeholder=\"Search\">\r\n        <div class=\"suggestions\" v-if=\"suggestionsMopeds.length > 0\">\r\n          <div class=\"suggestion\" v-for=\"s in suggestionsMopeds\" :key=\"s.id\" @click=\"selectMoped(s)\">{{s.title}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"upload\" v-if=\"findMoped\">\r\n        <input v-model=\"findMoped.title\">\r\n        <p></p>\r\n        <input v-model=\"findMoped.make\">\r\n        <p></p>\r\n        <input v-model=\"findMoped.engineSize\">\r\n        <p></p>\r\n        <input v-model=\"findMoped.numPeople\"  type=\"number\">\r\n\r\n        <p></p>\r\n        <textarea v-model=\"findMoped.otherInfo\"></textarea>\r\n        <p></p>\r\n        <input v-model=\"findMoped.price\"  type=\"number\">\r\n        <p></p>\r\n        <img v-for=\"image in findMoped.paths\" :key=\"image\" :src=\"image\" />\r\n      </div>\r\n      <div class=\"actions\" v-if=\"findMoped\">\r\n        <button @click=\"deleteMoped(findMoped)\">Delete</button>\r\n        <button @click=\"editMoped(findMoped)\">Edit</button>\r\n      </div>\r\n    </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Admin',\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      desc: \"a sample description\",\r\n      file: null,\r\n      files: [],\r\n      addItem: null,\r\n      items: [],\r\n      findTitle: \"\",\r\n      findItem: null,\r\n      findMopedTitle: \"\",\r\n      findMoped: null,\r\n      hours: [\r\n        \"9am - 5pm\", \r\n        \"9am - 5pm\", \r\n        \"9am - 5pm\", \r\n        \"9am - 5pm\", \r\n        \"9am - 5pm\", \r\n        \"9am - 5pm\",\r\n        \"9am - 5pm\"],\r\n      moped: {\r\n        title: \"\",\r\n        paths: [],\r\n        make: \"\",\r\n        engineSize: \"\",\r\n        numPeople: null,\r\n        otherInfo: \"\",\r\n        price: null,\r\n      },\r\n      mopeds: []\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    suggestions() {\r\n      console.log(this.items);\r\n      let items = this.items.filter(item => item.title.toLowerCase().startsWith(this.findTitle.toLowerCase()));\r\n      console.log(items);\r\n      return items.sort((a, b) => a.title > b.title);\r\n    },\r\n\r\n    suggestionsMopeds() {\r\n      console.log(this.mopeds);\r\n      let mopeds = this.mopeds.filter(moped => moped.title.toLowerCase().startsWith(this.findTitle.toLowerCase()));\r\n      console.log(mopeds);\r\n      return mopeds.sort((a, b) => a.title > b.title);\r\n    },\r\n\r\n    \r\n  },\r\n\r\n  created() {\r\n    this.getItems();\r\n    this.getHours();\r\n    this.getMopeds();\r\n  },\r\n  methods: {\r\n    \r\n    \r\n    fileChanged(event) {\r\n      this.file = event.target.files[0]\r\n    },\r\n\r\n    filesChanged(event) {\r\n      this.files = event.target.files\r\n    },\r\n\r\n    selectItem(item) {\r\n      this.findTitle = \"\";\r\n      this.findItem = item;\r\n    },\r\n\r\n    selectMoped(moped) {\r\n      this.findMopedTitle = \"\";\r\n      this.findMoped = moped;\r\n    },\r\n\r\n    async uploadAll() {\r\n      try {\r\n        //console.log(\"In upload\");\r\n        let mopedImgs = [];\r\n        for (let i = 0; i < this.files.length; i++) {\r\n          const formData = new FormData();\r\n          formData.append('photo', this.files[i], this.files[i].name);\r\n          let r1 = await axios.post('/api/photos', formData);\r\n          mopedImgs.push(r1.data.path);\r\n        }\r\n        //console.log(mopedImgs);\r\n        \r\n        \r\n        await axios.post('/api/mopeds', {\r\n          title: this.moped.title,\r\n          paths: mopedImgs,\r\n          make: this.moped.make,\r\n          engineSize: this.moped.engineSize,\r\n          numPeople: this.moped.numPeople,\r\n          otherInfo: this.moped.otherInfo,\r\n          price: this.moped.price\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async getMopeds() {\r\n      try {\r\n        let response = await axios.get(\"/api/mopeds\");\r\n        this.mopeds = response.data;\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async deleteMoped(moped) {\r\n      try {\r\n        await axios.delete(\"/api/mopeds/\" + moped._id);\r\n        this.findMoped = null;\r\n        this.getMopeds();\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async editMoped(moped) {\r\n      try {\r\n        //console.log(this.find)\r\n        await axios.put(\"/api/mopeds/\" + moped._id, {\r\n          title: moped.title,\r\n          make: moped.make,\r\n          engineSize: moped.engineSize,\r\n          numPeople: moped.numPeople,\r\n          otherInfo: moped.otherInfo,\r\n          price: moped.price\r\n        });\r\n        this.findMoped = null;\r\n        this.getMopeds();\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async upload() {\r\n      try {\r\n        console.log(\"In upload\")\r\n        const formData = new FormData();\r\n        formData.append('photo', this.file, this.file.name);\r\n        console.log(formData);\r\n        let r1 = await axios.post('/api/photos', formData);\r\n        let r2 = await axios.post('/api/feature', {\r\n          title: this.title,\r\n          path: r1.data.path,\r\n          desc: this.desc,\r\n        });\r\n        this.addItem = r2.data;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async getItems() {\r\n      try {\r\n        let response = await axios.get(\"/api/feature\");\r\n        this.items = response.data;\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async deleteItem(item) {\r\n      try {\r\n        await axios.delete(\"/api/feature/\" + item._id);\r\n        this.findItem = null;\r\n        this.getItems();\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async editItem(item) {\r\n      try {\r\n        //console.log(this.find)\r\n        await axios.put(\"/api/feature/\" + item._id, {\r\n          title: this.findItem.title,\r\n          desc: this.findItem.desc,\r\n        });\r\n        this.findItem = null;\r\n        this.getItems();\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async updateHours() {\r\n      try {\r\n        \r\n        let response = await axios.put(\"/api/hours/\", {\r\n          hours: this.hours\r\n        });\r\n        console.log(response);\r\n        //console.log(res);\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async getHours() {\r\n      try {\r\n        let res = await axios.get(\"/api/hours/\");\r\n        let times = res.data[0].hours;\r\n        //console.log(res.data[0].hours);\r\n        if (times.length > 0) {\r\n          this.hours = times;\r\n        }\r\n        return true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Suggestions */\r\n.suggestions {\r\n  width: 200px;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n.suggestion {\r\n  min-height: 20px;\r\n}\r\n\r\n.suggestion:hover {\r\n  background-color: #5BDEFF;\r\n  color: #fff;\r\n}\r\n\r\n.image h2 {\r\n  font-style: italic;\r\n  font-size: 1em;\r\n}\r\n\r\n.heading {\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.heading h2 {\r\n  margin-top: 8px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.add,\r\n.edit {\r\n  display: flex;\r\n}\r\n\r\n.circle {\r\n  border-radius: 50%;\r\n  width: 18px;\r\n  height: 18px;\r\n  padding: 8px;\r\n  background: #333;\r\n  color: #fff;\r\n  text-align: center\r\n}\r\n\r\n/* Form */\r\ninput,\r\ntextarea,\r\nselect,\r\nbutton {\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-size: 1em;\r\n}\r\n\r\n.form {\r\n  margin-right: 50px;\r\n}\r\n\r\n/* Uploaded images */\r\n.upload h2 {\r\n  margin: 0px;\r\n}\r\n\r\n.upload img {\r\n  max-width: 300px;\r\n}\r\n</style>\r\n"]}]}